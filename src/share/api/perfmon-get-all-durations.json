{
    "access": "write",
    "avail": "2.7.0",
    "brief": [
        "This command fetches all monitored duration data currently held by Perfmon."
    ],
    "cmd-syntax": [
        "{",
        "  \"command\": \"perfmon-get-all-durations\",",
        "  \"arguments\": {",
        "    \"result-set-format\": true",
        "  }",
        "}",
        ""
    ],
    "description": "See <xref linkend=\"command-perfmon-get-all-durations\"/>",
    "hook": "perfmon",
    "name": "perfmon-get-all-durations",
    "resp-comment": [
        "Result 0 is returned if command succeeds along with monitored duration data.",
        "Result is 1 if command is invalid or command processing encounters an error."
    ],
    "resp-syntax": [
        "If result-set-format is false, the output will be as shown below:",
        "{",
        "   \"arguments\": {",
        "       \"durations\": [{",
        "           \"ave-duration-usecs\": 47,",
        "           \"duration-key\": {",
        "               \"query-type\": \"DHCPDISCOVER\",",
        "               \"response-type\": \"DHCPOFFER\",",
        "               \"start-event\": \"buffer_read\",",
        "               \"stop-event\": \"mt_queued\",",
        "               \"subnet-id\": 0",
        "           },",
        "           \"max-duration-usecs\": 118,",
        "           \"min-duration-usecs\": 31,",
        "           \"occurrences\": 501,",
        "           \"start-time\": \"2024-06-12 17:52:06.814884\",",
        "           \"total-duration-usecs\": 23951",
        "       }",
        "       ..",
        "       ]",
        "       \"result-set-format\": false,",
        "       \"interval-width-secs\": 5,",
        "       \"timestamp\": \"2024-06-12 17:52:22.397233\"",
        "   }",
        "\"result\": 0,",
        "\"text\": \"perfmon-get-all-durations: n found\"",
        "}",
        "If result-set-format is true, the output will be as shown below:",
        "{",
        "   \"arguments\": {",
        "       \"durations-result-set\": {",
        "           \"columns\": [",
        "               \"query-type\",",
        "               \"response-type\",",
        "               \"start-event\",",
        "               \"end-event\",",
        "               \"subnet-id\",",
        "               \"interval-start\",",
        "               \"occurences\",",
        "               \"min-duration-usecs\",",
        "               \"max-duration-usecs\",",
        "               \"total-duration-usecsave-duration-usecs\"",
        "           ],",
        "           \"rows\": [",
        "               [",
        "                   \"DHCPDISCOVER\",",
        "                   \"DHCPOFFER\",",
        "                   \"buffer_read\",",
        "                   \"mt_queued\",",
        "                   0,",
        "                   \"2024-06-12 17:52:06.814884\",",
        "                   501,",
        "                   31,",
        "                   118,",
        "                   23951,",
        "                   47",
        "               ],",
        "               ..",
        "           ]",
        "       }",
        "       \"result-set-format\": true,",
        "       \"interval-width-secs\": 5,",
        "       \"timestamp\": \"2024-06-12 17:52:22.397233\"",
        "   }",
        "\"result\": 0,",
        "\"text\": \"perfmon-get-all-durations: n found\"",
        "}"
    ],
    "support": [
        "kea-dhcp4",
        "kea-dhcp6"
    ]
}
